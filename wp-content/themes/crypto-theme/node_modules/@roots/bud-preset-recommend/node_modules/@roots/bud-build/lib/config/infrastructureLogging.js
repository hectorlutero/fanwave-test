import logger from '@roots/bud-support/logger';
export const infrastructureLogging = async (bud) => bud.hooks.filter(`build.infrastructureLogging`, {
    console: bud.hooks.filter(`build.infrastructureLogging.console`, {
        ...console,
        error: (...args) => {
            logger.scope(bud.label, `webpack`).error(...args);
        },
        info: (...args) => {
            logger.scope(bud.label, `webpack`).info(...args);
        },
        log: (...args) => {
            logger.scope(bud.label, `webpack`).log(...args);
        },
        warn: (...args) => {
            logger.scope(bud.label, `webpack`).info(...args);
        },
    }),
    level: bud.hooks.filter(`build.infrastructureLogging.level`, `log`),
});
