import { __decorate } from "tslib";
import { Extension } from '@roots/bud-framework/extension';
import { dependsOn, expose, label, } from '@roots/bud-framework/extension/decorators';
import { deprecated } from '@roots/bud-support/decorators';
/**
 * roots/sage
 *
 * @see {@link https://github.com/roots/sage}
 * @see {@link https://bud.js.org/extensions/sage}
 */
let Sage = class Sage extends Extension {
    /**
     * {@link Acorn}
     */
    get acorn() {
        return this.app.extensions.get(`@roots/sage/acorn`);
    }
    /**
     * {@link Extension.register}
     */
    async register(bud) {
        bud
            .setPath({
            '@dist': `public`,
            '@fonts': `@src/fonts`,
            '@images': `@src/images`,
            '@scripts': `@src/scripts`,
            '@src': `resources`,
            '@styles': `@src/styles`,
            '@views': `@src/views`,
        })
            .when(bud.isProduction, () => bud.hash(), () => bud.devtool())
            .hooks.on(`build.output.uniqueName`, `@roots/bud/sage/${bud.label}`);
    }
    /**
     * Set acorn version
     *
     * @deprecated This function is deprecated. It is unneeded; you can just remove the call.
     */
    setAcornVersion(version) { }
};
__decorate([
    deprecated(`bud.sage`, `This function is no longer needed and should be removed`)
], Sage.prototype, "setAcornVersion", null);
Sage = __decorate([
    label(`@roots/sage`),
    dependsOn([
        `@roots/bud-preset-wordpress`,
        `@roots/sage/acorn`,
        `@roots/sage/blade-loader`,
    ]),
    expose(`sage`)
], Sage);
export default Sage;
